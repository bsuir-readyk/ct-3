# Task 3 - вариант 16

Для заданного вариантом языка разработать:
•	лексический анализатор, распознающий необходимые лексемы;
•	грамматику языка, включающую в себя базовые конструкции языка;
•	программное средство, проверяющее исходный код программы на соответствие грамматике.

Лексический анализатор можно разработать вручную или использовать утилиты-генераторы. Поддерживаемое подмножество языка согласовать с преподавателем.

**Rust** (упрощённое подмножество)

## Поддерживаемая грамматика

```
program    →  fn main() block
block      →  { operator* }
operator   →  println | if_stmt | while_stmt | block
println    →  println!("строка");
if_stmt    →  if ЦИФРА block [else block]
while_stmt →  while ЦИФРА block
```

## Распознаваемые лексемы

| Лексема | Токен | ID |
|---------|-------|-----|
| `\n`, `\r\n`, `\t` | NEXT | 0 |
| пробел | SPACE | 1 |
| `fn` | FN | 2 |
| `main` | MAIN | 3 |
| `(` | OPEN_BRACKET | 4 |
| `)` | CLOSE_BRACKET | 5 |
| `{` | OPEN_FIGURE | 6 |
| `}` | CLOSE_FIGURE | 7 |
| `println!` | PRINTLN | 8 |
| `if` | IF | 9 |
| цифра 0-9 | CONDITION | 10 |
| `else` | ELSE | 11 |
| `"..."` | LITTER | 12 |
| `;` | SEMICOLON | 13 |
| `while` | WHILE | 14 |

## Как собрать

Выполнить в каталоге проекта:

```bash
make
```

Команда `make`:
- запускает `flex` для генерации `lex.yy.c` из `text.l`;
- компилирует `lex.yy.c` в исполняемый файл `lexer`;
- компилирует `main.c` в исполняемый файл `parser`.

## Как использовать

Программа проверяет синтаксическую корректность кода в файле `test.txt`.

```bash
make run
```

Команда `make run`:
1. Запускает лексер: `./lexer < test.txt > out.txt` — преобразует код в последовательность токенов;
2. Запускает парсер: `./parser` — читает токены из `out.txt` и проверяет грамматику.

**Вывод:**
- `accept` — код соответствует грамматике;
- `reject` — в коде есть синтаксические ошибки.

## Пример корректного кода (`test.txt`)

```rust
fn main() {
    println!("Hello World");
    if 3 {
        println!("true branch");
    } else {
        while 1 {
            println!("loop");
        }
    }
}
```

## Очистка

```bash
make clean
```

Удаляет сгенерированные файлы: `lexer`, `parser`, `lex.yy.c`, `out.txt`.

